{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:base", ":semanticCommits", ":separateMajorReleases", "group:monorepos", "group:recommended"],
  "semanticCommitScope": "{{packageFileDir}}",
  "timezone": "Asia/Tokyo",
  "labels": ["ğŸ¤– renovate"],
  "assigneesFromCodeOwners": false,
  "reviewersFromCodeOwners": true,
  "automergeType": "pr",
  "automergeStrategy": "squash",
  "platformAutomerge": true,
  "prConcurrentLimit": 15,
  "prHourlyLimit": 5,
  "branchPrefix": "renovate/",
  "rangeStrategy": "bump",

  "schedule": ["before 4am every weekday"],
  "minimumReleaseAge": "1 day",
  "separateMinorPatch": false,
  "packageRules": [
    {
      "description": "Default: separate PRs per package",
      "matchPackagePatterns": ["*"],
      "groupName": "{{packageFileDir}}/{{depName}}"
    },

    {
      "description": "ğŸš« Production environments - disable automerge",
      "matchPaths": ["**/production/**"],
      "automerge": false,
      "prPriority": -1,
      "addLabels": ["âš ï¸ production"]
    },

    {
      "description": "ğŸš« Major updates - disable automerge",
      "matchUpdateTypes": ["major"],
      "automerge": false,
      "addLabels": ["ğŸ“ˆ major-update"]
    },

    {
      "description": "âœ… Minor/Patch updates - enable automerge",
      "matchUpdateTypes": ["minor", "patch", "pin", "digest"],
      "automerge": true
    }
  ]
}
